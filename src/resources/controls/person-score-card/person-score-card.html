<template>
    <require from="resources/controls/frame-card/frame-card"></require>

    <div class="container mt-5">
        <div class="row">
            <div class="col p-0">
                <div class="alert alert-danger" role="alert" show.bind="validationMessage">
                    ${validationMessage}
                </div>
            </div>
        </div>
        <div class="row border-bottom">
            <div class="col-auto p-0 mt-2 d-flex">
                <div class="card frame-card text-white bg-secondary mb-3">
                    <div class="card-header">Name</div>
                    <div class="card-body">
                        <input class="form-control form-control-sm" type="text" value.bind="person" placeholder="Name">
                        <div class="container-fluid">
                            <div class="row mt-2">
                                <div class="col p-0 text-right">
                                    <button type="button" class="btn btn-light btn-sm d-inline-block" click.delegate="rollRandom()" disabled.bind="scoreTotal >= 0">Roll</button>
                                    <button type="button" class="btn btn-warning btn-sm d-inline-block" click.delegate="clearScoreCard()">Clear</button>
                                    <button type="button" class="btn btn-danger btn-sm d-inline-block" click.delegate="deletePersonFunction(id)">Delete</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <template repeat.for="i of 10">
                <div class="col p-0 mt-2 d-flex">
                    <frame-card name="Frame&nbsp;${i + 1}" index="${$index}" view-model.ref="frameCards[$index]" is-last-frame.bind="$index == 9 ? true : false" score-card-id.bind="id">
                    </frame-card>
                </div>
            </template>
            <div class="col-auto p-0 mt-2 d-flex">
                <div class="card frame-card text-white bg-secondary mb-3" style="min-height: 161px;">
                    <div class="card-header">Total</div>
                    <div class="card-body">
                        <div id="scoreTotal" class="mt-2 text-center" if.bind="scoreTotal >= 0">${scoreTotal}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>